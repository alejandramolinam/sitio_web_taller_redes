<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Modelos de ciencias sociales computacionales para el análisis de redes en salud - 2&nbsp; Descripción de la estructura de una red</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./02-redes-aleatorias.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">

</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Modelos de ciencias sociales computacionales para el análisis de redes en salud</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/alejandramolinam/Taller_redes_salud_2024" rel="" target=""><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01-descripcion-redes.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Descripción de la estructura de una red</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Taller de introducción al análisis de redes</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-descripcion-redes.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Descripción de la estructura de una red</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-redes-aleatorias.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Formación de redes: modelos de generación de redes aleatorias</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-ergm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">ERGM: inferencias en la formación de enlaces</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#librerías" id="toc-librerías" class="nav-link active" data-scroll-target="#librerías"><span class="header-section-number">2.1</span> Librerías</a></li>
  <li><a href="#base-de-datos" id="toc-base-de-datos" class="nav-link" data-scroll-target="#base-de-datos"><span class="header-section-number">2.2</span> Base de Datos</a>
  <ul class="collapse">
  <li><a href="#atributos" id="toc-atributos" class="nav-link" data-scroll-target="#atributos"><span class="header-section-number">2.2.1</span> Atributos</a></li>
  <li><a href="#lectura" id="toc-lectura" class="nav-link" data-scroll-target="#lectura"><span class="header-section-number">2.2.2</span> Lectura</a></li>
  <li><a href="#matriz-de-adyacencia" id="toc-matriz-de-adyacencia" class="nav-link" data-scroll-target="#matriz-de-adyacencia"><span class="header-section-number">2.2.3</span> Matriz de adyacencia</a></li>
  </ul></li>
  <li><a href="#descripción-de-redes" id="toc-descripción-de-redes" class="nav-link" data-scroll-target="#descripción-de-redes"><span class="header-section-number">2.3</span> Descripción de redes</a>
  <ul class="collapse">
  <li><a href="#grados-de-los-nodos" id="toc-grados-de-los-nodos" class="nav-link" data-scroll-target="#grados-de-los-nodos"><span class="header-section-number">2.3.1</span> Grados de los nodos:</a></li>
  <li><a href="#densidad" id="toc-densidad" class="nav-link" data-scroll-target="#densidad"><span class="header-section-number">2.3.2</span> Densidad</a></li>
  <li><a href="#clustering" id="toc-clustering" class="nav-link" data-scroll-target="#clustering"><span class="header-section-number">2.3.3</span> Clustering</a></li>
  <li><a href="#componentes" id="toc-componentes" class="nav-link" data-scroll-target="#componentes"><span class="header-section-number">2.3.4</span> Componentes</a></li>
  <li><a href="#distancias" id="toc-distancias" class="nav-link" data-scroll-target="#distancias"><span class="header-section-number">2.3.5</span> Distancias</a></li>
  <li><a href="#censo-de-triadas" id="toc-censo-de-triadas" class="nav-link" data-scroll-target="#censo-de-triadas"><span class="header-section-number">2.3.6</span> Censo de triadas</a></li>
  <li><a href="#medidas-de-centralidad" id="toc-medidas-de-centralidad" class="nav-link" data-scroll-target="#medidas-de-centralidad"><span class="header-section-number">2.3.7</span> Medidas de Centralidad</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Descripción de la estructura de una red</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>En este tutorial veremos algunos conceptos y herramientas básicas para describir y analizar una red usando el paquete <em>igraph</em> para R.</p>
<section id="librerías" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="librerías"><span class="header-section-number">2.1</span> Librerías</h2>
<div class="cell" data-hash="01-descripcion-redes_cache/html/echo-false_372a0d439d5c94fef8f1ac059ce9d6aa">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'igraph'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    decompose, spectrum</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:base':

    union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:igraph':

    as_data_frame, groups, union</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
</div>
</section>
<section id="base-de-datos" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="base-de-datos"><span class="header-section-number">2.2</span> Base de Datos</h2>
<p>Los elementos básicos de una red son un conjunto de Nodos y un conjunto de Enlaces.</p>
<ul>
<li><p>Nodos: cada componente individual de una red. El tamaño de la red será el número total de nodos que la componen.</p></li>
<li><p>Enlaces: Interacciones entre los nodos de la red. Se representan como pares de nodos. Pueden ser dirigidos (nodo emisor -&gt; nodo receptor) o no dirigidos (nodo 1 &lt;-&gt; nodo 2). Un nodo puede tener enlaces con uno o varios otros nodos, o con ninguno.</p></li>
</ul>
<p>En este ejercicio vamos a usar una base de datos ficticia que va a simular una red de derivaciones de pacientes entre centros. Cada nodo será un centro de salud y cada centro estará enlazado con otro cuando uno de ellos haya derivado pacientes hacia el otro, por lo tanto tenemos una red dirigida (centro emisor -&gt; centro receptor).</p>
<section id="atributos" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="atributos"><span class="header-section-number">2.2.1</span> Atributos</h3>
<p>En una red, tanto los nodos como los enlaces pueden tener características que los describan (por ejemplo podríamos tener algún atributo de cada centro, como el número total de población que atiende, el número de funcionarios, presupuesto anual, etc; o los enlaces podrían caracterizarse por el número de pacientes promedio diario que derivan, el traspaso de recursos de un centro a otro, etc). En el caso de este ejemplo, cada enlace tiene el atributo “n”=número total de pacientes derivados en un año.</p>
<p>Los enlaces pueden tener distintos pesos, los pesos de los enlaces nos sirven para comparar las relaciones entre los distintos nodos. No es obligatorio que los enlaces tengan peso (puede haber redes en que todos los enlaces tengan igual peso). En este ejercicio usaremos el atributo “n” como el peso de cada enlace.</p>
</section>
<section id="lectura" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="lectura"><span class="header-section-number">2.2.2</span> Lectura</h3>
<p>Cargamos los datos del archivo de texto, que contiene una columna con los nodos emisores, otra con los nodos receptores y otra columna con el atributo “n” de cada enlace.</p>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-1_b086ade5d055abb8cfd0687476010806">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>links <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"datos/movements.csv"</span>, <span class="at">header=</span>T, <span class="at">as.is=</span>T)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(links)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  source target  n
1 ward_1 ward_2 10
2 ward_1 ward_3 50
3 ward_1 ward_4 80
4 ward_2 ward_1 50
5 ward_2 ward_3 80
6 ward_2 ward_4 10</code></pre>
</div>
</div>
<p>Ahora vamos a convertir el Data Frame que acabamos de crear en un objeto “igraph” para trabajar con las funciones del paquete.</p>
<p>La función <em>graph_from_data_frame</em> puede tener como input el data frame completo, en ese caso leerá las primeras dos columnas como los nodos de input y output y el resto de columnas como atributos de los enlaces. La variable <em>directed</em> para indicar si es una red dirigida (T: true) o no (F: false).</p>
<p>Opcionalmente se le puede pasar a la función un vector con los nodos (esto último es útil en caso de que hayan nodos isla, si no se entrega ese vector los nodos los extrae de los enlaces).</p>
<p><em>net &lt;- graph_from_data_frame(dataframe, vertices=vector_nodos, directed=T)</em></p>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-2_28b2a0f1a110597395e5e37cf3dfbb66">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convirtiendo los datos a un objeto de igraph:</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>net <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(links, <span class="at">directed=</span>T) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Veamos los componentes de la red:</p>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-3_480da8edc929cc40acf5e97e2366fe46">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Miramos los nodos y enlaces</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(net) <span class="co"># VERTICES</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>+ 12/12 vertices, named, from d7248b6:
 [1] ward_1  ward_2  ward_3  ward_4  ward_5  ward_6  ward_7  ward_8  ward_9 
[10] ward_10 ward_11 ward_12</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(net) <span class="co"># ENLACES</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>+ 35/35 edges from d7248b6 (vertex names):
 [1] ward_1 -&gt;ward_2  ward_1 -&gt;ward_3  ward_1 -&gt;ward_4  ward_2 -&gt;ward_1 
 [5] ward_2 -&gt;ward_3  ward_2 -&gt;ward_4  ward_2 -&gt;ward_5  ward_3 -&gt;ward_1 
 [9] ward_3 -&gt;ward_2  ward_3 -&gt;ward_4  ward_3 -&gt;ward_5  ward_4 -&gt;ward_1 
[13] ward_4 -&gt;ward_2  ward_4 -&gt;ward_3  ward_4 -&gt;ward_5  ward_5 -&gt;ward_1 
[17] ward_5 -&gt;ward_2  ward_5 -&gt;ward_3  ward_5 -&gt;ward_4  ward_4 -&gt;ward_6 
[21] ward_6 -&gt;ward_4  ward_6 -&gt;ward_7  ward_6 -&gt;ward_8  ward_7 -&gt;ward_6 
[25] ward_7 -&gt;ward_8  ward_8 -&gt;ward_6  ward_8 -&gt;ward_7  ward_3 -&gt;ward_9 
[29] ward_9 -&gt;ward_3  ward_9 -&gt;ward_10 ward_9 -&gt;ward_11 ward_10-&gt;ward_9 
[33] ward_10-&gt;ward_12 ward_11-&gt;ward_9  ward_12-&gt;ward_11</code></pre>
</div>
</div>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-4_31a056dd43ee35d86d4a921a52ad48f1">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(net, <span class="at">edge.arrow.size=</span>.<span class="dv">4</span>, <span class="at">vertex.label=</span><span class="cn">NA</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="01-descripcion-redes_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Podemos remover los enlaces repetidos y los enlaces que son de un mismo nodo hacia si mismo (loops):</p>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-5_e73aa1f905c0a1bec55670f810bd62d3">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sacamos los loops del grafo:</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>net <span class="ot">&lt;-</span> <span class="fu">simplify</span>(net, <span class="at">remove.multiple =</span> T, <span class="at">remove.loops =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="matriz-de-adyacencia" class="level3" data-number="2.2.3">
<h3 data-number="2.2.3" class="anchored" data-anchor-id="matriz-de-adyacencia"><span class="header-section-number">2.2.3</span> Matriz de adyacencia</h3>
<p>La matriz de adyacencia tiene en los ejes los nodos de la red y cada valor de la matriz es 1 si existe ese enlace y 0 si no, tambien puede ser el atributo de un enlace, si es que se especifica dentro de la función:</p>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-6_e3356aa72c2cd5aa02144fc601f2b7de">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Si lo necesitamos, podemos extraer la lista de enlaces (edgelist) o la matriz desde la red de igraph.</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">as_adjacency_matrix</span>(net)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>12 x 12 sparse Matrix of class "dgCMatrix"</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>  [[ suppressing 12 column names 'ward_1', 'ward_2', 'ward_3' ... ]]</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>                               
ward_1  . 1 1 1 . . . . . . . .
ward_2  1 . 1 1 1 . . . . . . .
ward_3  1 1 . 1 1 . . . 1 . . .
ward_4  1 1 1 . 1 1 . . . . . .
ward_5  1 1 1 1 . . . . . . . .
ward_6  . . . 1 . . 1 1 . . . .
ward_7  . . . . . 1 . 1 . . . .
ward_8  . . . . . 1 1 . . . . .
ward_9  . . 1 . . . . . . 1 1 .
ward_10 . . . . . . . . 1 . . 1
ward_11 . . . . . . . . 1 . . .
ward_12 . . . . . . . . . . 1 .</code></pre>
</div>
</div>
</section>
</section>
<section id="descripción-de-redes" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="descripción-de-redes"><span class="header-section-number">2.3</span> Descripción de redes</h2>
<section id="grados-de-los-nodos" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="grados-de-los-nodos"><span class="header-section-number">2.3.1</span> Grados de los nodos:</h3>
<p>Una propiedad clave de cada nodo es su grado, que representa el número de enlaces que tiene con otros nodos. Usualmente se denomina con <span class="math inline">k_i</span> el grado del i-esimo nodo de la red. En una red dirigida vamos a hablar de <em>in-degree</em> para la cantidad de enlaces que llegan dirigidos hacia un nodo, y de <em>out-degree</em> para la cantidad de enlaces que salen desde un nodo hacia otros.</p>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-7_27973bbef7786a9b21e661620b680011">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>net.degree<span class="ot">&lt;-</span><span class="fu">degree</span>(net)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">degree</span>(net, <span class="at">mode=</span><span class="st">"in"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> ward_1  ward_2  ward_3  ward_4  ward_5  ward_6  ward_7  ward_8  ward_9 ward_10 
      4       4       5       5       3       3       2       2       3       1 
ward_11 ward_12 
      2       1 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">degree</span>(net, <span class="at">mode=</span><span class="st">"out"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> ward_1  ward_2  ward_3  ward_4  ward_5  ward_6  ward_7  ward_8  ward_9 ward_10 
      3       4       5       5       4       3       2       2       3       2 
ward_11 ward_12 
      1       1 </code></pre>
</div>
</div>
<p>Una medida descriptiva interesante de una red es la distribución de grado, es decir, cuantos nodos tenemos con cada cantidad de enlaces. Esta distribución nos puede dar pistas sobre la estructura de la red (aleatoria, de mundo pequeño, libre escala).</p>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-8_940e2ce1c1d9f5c606ec6dd8ee166af6">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># distribucion de grado</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>grado.dist <span class="ot">&lt;-</span> <span class="fu">degree_distribution</span>(net)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>grado.tabla <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="fu">seq</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">10</span>),<span class="dv">100</span><span class="sc">*</span>grado.dist),<span class="at">byrow=</span>F,<span class="at">ncol=</span><span class="dv">2</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>grado.tabla <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(grado.tabla)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(grado.tabla) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Grado"</span>,<span class="st">"Porcentaje"</span>)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>grado.tabla</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Grado Porcentaje
1      1   0.000000
2      2   0.000000
3      3   8.333333
4      4  16.666667
5      5  16.666667
6      6   0.000000
7      7  16.666667
8      8  16.666667
9      9   8.333333
10    10   0.000000
11    11  16.666667</code></pre>
</div>
</div>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-9_749a6903178b074f8c34fbf7974a155c">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(grado.tabla<span class="sc">$</span>Grado,grado.tabla<span class="sc">$</span>Porcentaje)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="01-descripcion-redes_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="densidad" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="densidad"><span class="header-section-number">2.3.2</span> Densidad</h3>
<p>La densidad de la red es el número total de enlaces (orden de la red) sobre el número total de enlaces posibles (si todos los nodos estuvieran conectados con todos).</p>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-10_7f73d70425a40eb6881d5debc4f76724">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>net.densidad <span class="ot">&lt;-</span> <span class="fu">edge_density</span>(net)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>net.densidad</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2651515</code></pre>
</div>
</div>
</section>
<section id="clustering" class="level3" data-number="2.3.3">
<h3 data-number="2.3.3" class="anchored" data-anchor-id="clustering"><span class="header-section-number">2.3.3</span> Clustering</h3>
<p>El clustering de un nodo es la densidad del nodo, es decir, el número de enlaces del nodo, dividido por el número total de enlaces que podrían formar los vecinos del nodo.</p>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-11_4faee5916b2a37775260b9b9f36e7995">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>net.clustering <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">transitivity</span>(net, <span class="at">type=</span><span class="st">"global"</span>),<span class="dv">3</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>net.clustering</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.673</code></pre>
</div>
</div>
</section>
<section id="componentes" class="level3" data-number="2.3.4">
<h3 data-number="2.3.4" class="anchored" data-anchor-id="componentes"><span class="header-section-number">2.3.4</span> Componentes</h3>
<p>Una red puede ser dividida en sub redes o componentes cuando hay grupos de nodos que no son alcanzables por otro grupo. En una componente todos los nodos están enlazados a algún otro nodo.</p>
<p>Si en una red todos los nodos son alcanzables por algún camino se dice que es un grafo completo.</p>
<p>La sub red que contiene más nodos se denomina Componente Principal.</p>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-12_cdd276d2540b98ea728142cb86b5ab76">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>componentes <span class="ot">&lt;-</span> <span class="fu">clusters</span>(net)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>componentes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$membership
 ward_1  ward_2  ward_3  ward_4  ward_5  ward_6  ward_7  ward_8  ward_9 ward_10 
      1       1       1       1       1       1       1       1       1       1 
ward_11 ward_12 
      1       1 

$csize
[1] 12

$no
[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">which.max</span>(componentes<span class="sc">$</span>csize) <span class="co"># identificamos el gigante</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>subred <span class="ot">&lt;-</span> <span class="fu">induced.subgraph</span>(net, <span class="fu">which</span>(componentes<span class="sc">$</span>membership <span class="sc">==</span> g)) <span class="co"># nos quedamos con el componente gigante</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(net)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>+ 12/12 vertices, named, from d74ecda:
 [1] ward_1  ward_2  ward_3  ward_4  ward_5  ward_6  ward_7  ward_8  ward_9 
[10] ward_10 ward_11 ward_12</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(subred)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>+ 12/12 vertices, named, from d838c89:
 [1] ward_1  ward_2  ward_3  ward_4  ward_5  ward_6  ward_7  ward_8  ward_9 
[10] ward_10 ward_11 ward_12</code></pre>
</div>
</div>
</section>
<section id="distancias" class="level3" data-number="2.3.5">
<h3 data-number="2.3.5" class="anchored" data-anchor-id="distancias"><span class="header-section-number">2.3.5</span> Distancias</h3>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-13_7eb374967fd329b0c683a737106220f7">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsize</span>(net)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 35</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gorder</span>(net)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12</code></pre>
</div>
</div>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-14_de2b22e4a52ab26a0c5f1336b7dccffe">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>net.distancia <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">mean_distance</span>(net),<span class="dv">3</span>) </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>net.distancia</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.614</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">distance_table</span>(net)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$res
[1] 35 29 38 16 10  4

$unconnected
[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">shortest_paths</span>(net,<span class="st">"ward_1"</span>,<span class="st">"ward_12"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$vpath
$vpath[[1]]
+ 5/12 vertices, named, from d74ecda:
[1] ward_1  ward_3  ward_9  ward_10 ward_12


$epath
NULL

$predecessors
NULL

$inbound_edges
NULL</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co">#all_shortest_paths(net,"ward_1")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="censo-de-triadas" class="level3" data-number="2.3.6">
<h3 data-number="2.3.6" class="anchored" data-anchor-id="censo-de-triadas"><span class="header-section-number">2.3.6</span> Censo de triadas</h3>
<p>Las triadas son conjuntos de 3 nodos, que son la “célula” mínima de una red. En una red dirigida existen múltiples maneras en que 3 nodos pueden estar conectados entre sí. Puede ser interesante saber cuantos tipos de triadas de cada tipo (o de alguno en particular) tiene la red.</p>
<p><img src="figs/The-sixteen-isomorphism-classes-of-triad-census-for-directed-networks-D.png" class="img-fluid"></p>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-15_d1a8da8d93314174a71b6395df63e64e">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">triad_census</span>(net)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  68  23 102   0   0   1   1   1   0   0  13   0   0   0   3   8</code></pre>
</div>
</div>
</section>
<section id="medidas-de-centralidad" class="level3" data-number="2.3.7">
<h3 data-number="2.3.7" class="anchored" data-anchor-id="medidas-de-centralidad"><span class="header-section-number">2.3.7</span> Medidas de Centralidad</h3>
<p>Las medidas de centralidad se utilizan para identificar los nodos más importantes de una red bajo distintos criterios. Algunas de las medidas de centralidad más utilizadas son:</p>
<ul>
<li><p>Centralidad de Grado (degree centrality) :</p></li>
<li><p>Centralidad de Intermediación (betweeness centrality):</p></li>
<li><p>Centralidad de Cercanía (closeness centrality):</p></li>
<li><p>Centralidad de Vector Propio (eigenvector centrality): la centralidad de un nodo es una ponderación de la centralidad de los nodos que lo rodean, es decir, un nodo es más central si está conectado con otros nodos que también son centrales.</p></li>
</ul>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-16_5865d6460768ebf74b8a993616421474">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular grado de centralidad (degree centrality) </span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>centralidad_grado <span class="ot">&lt;-</span> <span class="fu">degree</span>(net) </span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular centralidad de cercanía </span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>centralidad_cercania <span class="ot">&lt;-</span> <span class="fu">closeness</span>(net, <span class="at">normalized =</span> T) </span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular la centralidad de intermediación</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>centralidad_intermediacion <span class="ot">&lt;-</span> <span class="fu">betweenness</span>(net, <span class="at">normalized =</span> T)</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular la centralidad de vector propio</span></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>centralidad_eigen <span class="ot">&lt;-</span><span class="fu">eigen_centrality</span>(net)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-17_d9380a6a3414a2ad864d138a997e2ae4">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>centralidades <span class="ot">&lt;-</span> <span class="fu">cbind</span>(centralidad_grado,</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">round</span>(centralidad_cercania,<span class="dv">3</span>),</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">round</span>(centralidad_intermediacion,<span class="dv">3</span>),</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">round</span>(centralidad_eigen<span class="sc">$</span>vector,<span class="dv">3</span>)) </span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(centralidades) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"grado"</span>, <span class="st">"cercania"</span>, <span class="st">"intermediacion"</span>, <span class="st">"eigen"</span>)</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>centralidades</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        grado cercania intermediacion eigen
ward_1      7    0.440          0.000 0.852
ward_2      8    0.458          0.003 0.938
ward_3     10    0.550          0.512 0.997
ward_4     10    0.524          0.439 1.000
ward_5      7    0.458          0.000 0.852
ward_6      6    0.407          0.327 0.306
ward_7      4    0.306          0.000 0.104
ward_8      4    0.306          0.000 0.104
ward_9      6    0.458          0.468 0.291
ward_10     3    0.344          0.091 0.076
ward_11     3    0.324          0.091 0.076
ward_12     2    0.262          0.005 0.019</code></pre>
</div>
</div>
<p>Encontremos ahora los 5 nodos con mayor grado de centralidad de cada tipo:</p>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-18_49a4957745a27c4325d6b955a04eb1b2">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>top5_degree <span class="ot">&lt;-</span> <span class="fu">head</span>(<span class="fu">sort</span>(centralidad_grado, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="dv">5</span>)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>top5_betweenness <span class="ot">&lt;-</span> <span class="fu">head</span>(<span class="fu">sort</span>(centralidad_intermediacion, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="dv">5</span>)</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>top5_closeness <span class="ot">&lt;-</span> <span class="fu">head</span>(<span class="fu">sort</span>(centralidad_cercania, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="dv">5</span>)</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>top5_eigenvector <span class="ot">&lt;-</span> <span class="fu">head</span>(<span class="fu">sort</span>(centralidad_eigen<span class="sc">$</span>vector, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="dv">5</span>)  <span class="co"># </span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>top5_degree</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>ward_3 ward_4 ward_2 ward_1 ward_5 
    10     10      8      7      7 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>top5_betweenness</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    ward_3     ward_9     ward_4     ward_6    ward_10 
0.51212121 0.46818182 0.43939394 0.32727273 0.09090909 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>top5_closeness</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   ward_3    ward_4    ward_2    ward_5    ward_9 
0.5500000 0.5238095 0.4583333 0.4583333 0.4583333 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>top5_eigenvector</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   ward_4    ward_3    ward_2    ward_1    ward_5 
1.0000000 0.9970131 0.9380857 0.8519464 0.8519464 </code></pre>
</div>
</div>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-19_3351e7d3ff663f254200890004b8b990">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(net)<span class="sc">$</span>size <span class="ot">&lt;-</span> centralidad_grado<span class="sc">*</span><span class="fl">1.5</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(net)<span class="sc">$</span>frame.color <span class="ot">&lt;-</span> <span class="st">"white"</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(net)<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="st">"orange"</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(net)<span class="sc">$</span>label <span class="ot">&lt;-</span> <span class="fu">V</span>(net) </span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(net)<span class="sc">$</span>arrow.mode <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(net)<span class="sc">$</span>arrow.size <span class="ot">&lt;-</span> <span class="fl">0.2</span></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a><span class="co">#l &lt;- layout_in_circle(net)</span></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">layout_with_fr</span>(net)</span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(net, <span class="at">layout=</span>l, <span class="at">main=</span><span class="st">"Centralidad de Grado"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="01-descripcion-redes_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-20_24dcc68214f4e1595b3cbc9407892639">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(net)<span class="sc">$</span>size <span class="ot">&lt;-</span> centralidad_intermediacion<span class="sc">*</span><span class="dv">30</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(net)<span class="sc">$</span>frame.color <span class="ot">&lt;-</span> <span class="st">"white"</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(net)<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="st">"orange"</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(net)<span class="sc">$</span>label <span class="ot">&lt;-</span> <span class="fu">V</span>(net)</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(net)<span class="sc">$</span>arrow.mode <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(net)<span class="sc">$</span>arrow.size <span class="ot">&lt;-</span> <span class="fl">0.2</span></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(net, <span class="at">layout=</span>l, , <span class="at">main=</span><span class="st">"Centralidad de Intermediación"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="01-descripcion-redes_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-21_5f11b7d0289f93ff618d4c9c0e561fb4">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(net)<span class="sc">$</span>size <span class="ot">&lt;-</span> centralidad_cercania<span class="sc">*</span><span class="dv">30</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(net)<span class="sc">$</span>frame.color <span class="ot">&lt;-</span> <span class="st">"white"</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(net)<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="st">"orange"</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(net)<span class="sc">$</span>label <span class="ot">&lt;-</span> <span class="fu">V</span>(net)</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(net)<span class="sc">$</span>arrow.mode <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(net)<span class="sc">$</span>arrow.size <span class="ot">&lt;-</span> <span class="fl">0.2</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(net, <span class="at">layout=</span>l, <span class="at">main=</span><span class="st">"Centralidad de Cercanía"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="01-descripcion-redes_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="01-descripcion-redes_cache/html/unnamed-chunk-22_9606028a27a38370d63f22a06c43b845">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(net)<span class="sc">$</span>size <span class="ot">&lt;-</span> centralidad_eigen<span class="sc">$</span>vector<span class="sc">*</span><span class="dv">20</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(net)<span class="sc">$</span>frame.color <span class="ot">&lt;-</span> <span class="st">"white"</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(net)<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="st">"orange"</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(net)<span class="sc">$</span>label <span class="ot">&lt;-</span> <span class="fu">V</span>(net)</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(net)<span class="sc">$</span>arrow.mode <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(net)<span class="sc">$</span>arrow.size <span class="ot">&lt;-</span> <span class="fl">0.2</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(net, <span class="at">layout=</span>l, <span class="at">main=</span><span class="st">"Centralidad EigenValue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="01-descripcion-redes_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Taller de introducción al análisis de redes</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./02-redes-aleatorias.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Formación de redes: modelos de generación de redes aleatorias</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>